<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LearnForge - Daily Lessons</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/lessons.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="dashboard.html">
                <i class="fas fa-brain"></i>
                LearnForge
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="dashboard.html">
                            <i class="fas fa-home"></i> Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="lessons.html">
                            <i class="fas fa-book"></i> Learn
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="progress.html">
                            <i class="fas fa-chart-line"></i> Progress
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="achievements.html">
                            <i class="fas fa-trophy"></i> Achievements
                        </a>
                    </li>
                </ul>
                
                <div class="navbar-nav">
                    <div class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle user-menu" href="#" role="button" data-bs-toggle="dropdown">
                            <img src="https://via.placeholder.com/32x32/1e3a8a/ffffff?text=U" alt="User profile picture" class="user-avatar">
                            <span id="userName">John Doe</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="profile.html"><i class="fas fa-user"></i> Profile</a></li>
                            <li><a class="dropdown-item" href="settings.html"><i class="fas fa-cog"></i> Settings</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-container">
        <!-- Lesson Header -->
        <section class="lesson-header">
            <div class="container">
                <div class="lesson-header-content">
                    <div class="lesson-breadcrumb">
                        <a href="learning-paths.html">Learning Paths</a>
                        <span>/</span>
                        <a href="#" id="pathName">Advanced Mathematics</a>
                        <span>/</span>
                        <span id="conceptName">Linear Equations</span>
                    </div>
                    
                    <div class="lesson-progress-bar">
                        <div class="progress-info">
                            <span class="progress-label">Lesson Progress</span>
                            <span class="progress-percentage" id="lessonProgress">0%</span>
                        </div>
                        <div class="progress-bar-custom">
                            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                        </div>
                    </div>

                    <div class="lesson-actions">
                        <button class="btn btn-outline-custom btn-sm" onclick="pauseLesson()">
                            <i class="fas fa-pause"></i> Pause
                        </button>
                        <button class="btn btn-outline-custom btn-sm" onclick="exitLesson()">
                            <i class="fas fa-times"></i> Exit
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Lesson Content -->
        <div class="container lesson-container">
            <div class="row">
                <!-- Main Lesson Area -->
                <div class="col-lg-8">
                    <div class="lesson-card">
                        <!-- Lesson Introduction -->
                        <div class="lesson-section" id="introductionSection">
                            <div class="section-header">
                                <h2>Introduction to Linear Equations</h2>
                            </div>
                            <div class="section-content">
                                <p>Linear equations are fundamental to algebra and appear in many real-world applications. In this lesson, you'll learn how to solve linear equations and understand their properties.</p>
                                
                                <div class="learning-objectives">
                                    <h4>Learning Objectives</h4>
                                    <ul>
                                        <li>Understand what a linear equation is</li>
                                        <li>Learn how to solve linear equations</li>
                                        <li>Apply linear equations to real-world problems</li>
                                        <li>Verify solutions</li>
                                    </ul>
                                </div>

                                <button class="btn btn-primary-custom" onclick="startLesson()">
                                    <i class="fas fa-play"></i> Start Lesson
                                </button>
                            </div>
                        </div>

                        <!-- Concept Explanation -->
                        <div class="lesson-section hidden" id="conceptSection">
                            <div class="section-header">
                                <h3>Understanding Linear Equations</h3>
                            </div>
                            <div class="section-content">
                                <div class="concept-explanation">
                                    <p>A linear equation is an equation that can be written in the form:</p>
                                    <div class="formula-box">
                                        <code>ax + b = c</code>
                                    </div>
                                    <p>Where:</p>
                                    <ul>
                                        <li><strong>a</strong> is the coefficient (cannot be 0)</li>
                                        <li><strong>x</strong> is the variable we're solving for</li>
                                        <li><strong>b</strong> and <strong>c</strong> are constants</li>
                                    </ul>

                                    <div class="example-box">
                                        <h5>Example:</h5>
                                        <p><code>2x + 3 = 7</code></p>
                                        <p>Here, a=2, b=3, c=7</p>
                                    </div>
                                </div>

                                <div class="lesson-actions">
                                    <button class="btn btn-outline-custom" onclick="previousStep()">
                                        <i class="fas fa-arrow-left"></i> Previous
                                    </button>
                                    <button class="btn btn-primary-custom" onclick="nextStep()">
                                        Next <i class="fas fa-arrow-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Socratic Question -->
                        <div class="lesson-section hidden" id="questionSection">
                            <div class="section-header">
                                <h3>Let's Practice</h3>
                            </div>
                            <div class="section-content">
                                <div class="question-container">
                                    <div class="question-text" id="questionText">
                                        Solve for x: 2x + 3 = 7
                                    </div>

                                    <div class="question-hint" id="hintBox" style="display: none;">
                                        <div class="hint-header">
                                            <i class="fas fa-lightbulb"></i> Hint
                                        </div>
                                        <div class="hint-content" id="hintContent">
                                            Think about what you need to do to isolate x on one side of the equation.
                                        </div>
                                    </div>

                                    <div class="answer-input-group">
                                        <label for="answerInput">Your Answer:</label>
                                        <input type="text" id="answerInput" class="form-control" placeholder="Enter your answer">
                                    </div>

                                    <div class="justification-input-group">
                                        <label for="justificationInput">Explain your reasoning:</label>
                                        <textarea id="justificationInput" class="form-control" rows="3" placeholder="Why did you choose this answer?"></textarea>
                                    </div>

                                    <div class="question-actions">
                                        <button class="btn btn-outline-custom" onclick="showHint()">
                                            <i class="fas fa-lightbulb"></i> Show Hint
                                        </button>
                                        <button class="btn btn-primary-custom" onclick="submitAnswer()">
                                            <i class="fas fa-check"></i> Submit Answer
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Feedback -->
                        <div class="lesson-section hidden" id="feedbackSection">
                            <div class="section-header">
                                <h3 id="feedbackTitle">Great Work!</h3>
                            </div>
                            <div class="section-content">
                                <div class="feedback-message" id="feedbackMessage">
                                    Your answer is correct! You correctly identified that x = 2.
                                </div>

                                <div class="feedback-explanation" id="feedbackExplanation">
                                    <h5>Explanation:</h5>
                                    <p>Starting with: 2x + 3 = 7</p>
                                    <p>Subtract 3 from both sides: 2x = 4</p>
                                    <p>Divide both sides by 2: x = 2</p>
                                </div>

                                <div class="feedback-actions">
                                    <button class="btn btn-outline-custom" onclick="reviewConcept()">
                                        <i class="fas fa-redo"></i> Review Concept
                                    </button>
                                    <button class="btn btn-primary-custom" onclick="nextQuestion()">
                                        <i class="fas fa-arrow-right"></i> Next Question
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Lesson Complete -->
                        <div class="lesson-section hidden" id="completeSection">
                            <div class="section-header">
                                <h3>Lesson Complete!</h3>
                            </div>
                            <div class="section-content">
                                <div class="completion-summary">
                                    <div class="summary-stat">
                                        <div class="stat-icon">
                                            <i class="fas fa-check-circle"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-label">Questions Answered</div>
                                            <div class="stat-value" id="questionsAnswered">5</div>
                                        </div>
                                    </div>

                                    <div class="summary-stat">
                                        <div class="stat-icon">
                                            <i class="fas fa-bullseye"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-label">Accuracy</div>
                                            <div class="stat-value" id="accuracyScore">100%</div>
                                        </div>
                                    </div>

                                    <div class="summary-stat">
                                        <div class="stat-icon">
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-label">XP Earned</div>
                                            <div class="stat-value" id="xpEarned">150</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mastery-assessment">
                                    <h5>Mastery Level</h5>
                                    <div class="mastery-level" id="masteryLevel">
                                        <div class="mastery-bar">
                                            <div class="mastery-fill" style="width: 75%"></div>
                                        </div>
                                        <span class="mastery-text">Proficient (75%)</span>
                                    </div>
                                </div>

                                <div class="completion-actions">
                                    <button class="btn btn-outline-custom" onclick="reviewLesson()">
                                        <i class="fas fa-redo"></i> Review Lesson
                                    </button>
                                    <button class="btn btn-primary-custom" onclick="nextLesson()">
                                        <i class="fas fa-arrow-right"></i> Next Lesson
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <div class="col-lg-4">
                    <!-- Lesson Info -->
                    <div class="section-card sidebar-card">
                        <div class="section-header">
                            <h3><i class="fas fa-info-circle"></i> Lesson Info</h3>
                        </div>
                        <div class="lesson-info">
                            <div class="info-item">
                                <span class="info-label">Difficulty</span>
                                <span class="info-value difficulty-intermediate">Intermediate</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Estimated Time</span>
                                <span class="info-value">15 minutes</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Questions</span>
                                <span class="info-value" id="totalQuestions">5</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Current Streak</span>
                                <span class="info-value streak-active">7 days ðŸ”¥</span>
                            </div>
                        </div>
                    </div>

                    <!-- Mastery Tracker -->
                    <div class="section-card sidebar-card">
                        <div class="section-header">
                            <h3><i class="fas fa-chart-bar"></i> Mastery Tracker</h3>
                        </div>
                        <div class="mastery-tracker">
                            <div class="mastery-item">
                                <div class="mastery-concept">Linear Equations</div>
                                <div class="mastery-bar">
                                    <div class="mastery-fill" style="width: 75%"></div>
                                </div>
                                <div class="mastery-level-text">Proficient</div>
                            </div>
                            <div class="mastery-item">
                                <div class="mastery-concept">Solving Equations</div>
                                <div class="mastery-bar">
                                    <div class="mastery-fill" style="width: 50%"></div>
                                </div>
                                <div class="mastery-level-text">Familiar</div>
                            </div>
                            <div class="mastery-item">
                                <div class="mastery-concept">Verification</div>
                                <div class="mastery-bar">
                                    <div class="mastery-fill" style="width: 25%"></div>
                                </div>
                                <div class="mastery-level-text">Started</div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Stats -->
                    <div class="section-card sidebar-card">
                        <div class="section-header">
                            <h3><i class="fas fa-zap"></i> Today's Stats</h3>
                        </div>
                        <div class="quick-stats">
                            <div class="stat-item">
                                <span class="stat-label">Lessons Today</span>
                                <span class="stat-value">2</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">XP Today</span>
                                <span class="stat-value">300</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Time Spent</span>
                                <span class="stat-value">45m</span>
                            </div>
                        </div>
                    </div>

                    <!-- Related Concepts -->
                    <div class="section-card sidebar-card">
                        <div class="section-header">
                            <h3><i class="fas fa-link"></i> Related Concepts</h3>
                        </div>
                        <div class="related-concepts">
                            <a href="#" class="concept-link">
                                <i class="fas fa-arrow-right"></i>
                                <span>Quadratic Equations</span>
                            </a>
                            <a href="#" class="concept-link">
                                <i class="fas fa-arrow-right"></i>
                                <span>Systems of Equations</span>
                            </a>
                            <a href="#" class="concept-link">
                                <i class="fas fa-arrow-right"></i>
                                <span>Graphing Lines</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Pause Modal -->
    <div class="modal-dialog hidden" id="pauseModal">
        <div class="modal-overlay" onclick="resumeLesson()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Lesson Paused</h2>
                <button class="modal-close" onclick="resumeLesson()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>Your progress has been saved. You can resume anytime.</p>
                <div class="pause-stats">
                    <div class="stat">
                        <span class="label">Questions Completed</span>
                        <span class="value" id="pauseQuestionsCompleted">2/5</span>
                    </div>
                    <div class="stat">
                        <span class="label">Time Spent</span>
                        <span class="value" id="pauseTimeSpent">5 minutes</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline-custom" onclick="exitLesson()">
                    <i class="fas fa-times"></i> Exit Lesson
                </button>
                <button class="btn btn-primary-custom" onclick="resumeLesson()">
                    <i class="fas fa-play"></i> Resume
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/lessons.js"></script>
</body>
</html>
